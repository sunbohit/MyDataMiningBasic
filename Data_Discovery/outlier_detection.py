'''
应用pandas和matplotlib进行离群点检测
'''
import pandas as pd
import matplotlib.pyplot as plt
#plt.rcParams['font.sans-serif'] = ['SimHei']
#plt.rcParams['axes.unicode_minus'] = False

cs_path = 'catering_sale.xls' # 数据集路径
cs_data = pd.read_excel(cs_path,index_col='日期') # 用pandas读入excel数据，将日期作为索引
print(cs_data)
'''
                销量
日期                
2015-03-01    51.0
2015-02-28  2618.2
2015-02-27  2608.4
2015-02-26  2651.9
2015-02-25  3442.1
2015-02-24  3393.1
2015-02-23  3136.6
2015-02-22  3744.1
2015-02-21  6607.4
2015-02-20  4060.3
2015-02-19  3614.7
2015-02-18  3295.5
2015-02-16  2332.1
2015-02-15  2699.3
2015-02-14     NaN
2015-02-13  3036.8
2015-02-12   865.0
2015-02-11  3014.3
2015-02-10  2742.8
2015-02-09  2173.5
2015-02-08  3161.8
2015-02-07  3023.8
2015-02-06  2998.1
2015-02-05  2805.9
2015-02-04  2383.4
2015-02-03  2620.2
2015-02-02  2600.0
2015-02-01  2358.6
2015-01-31  2682.2
2015-01-30  2766.8
...            ...
2014-08-31  3494.7
2014-08-30  3691.9
2014-08-29  2929.5
2014-08-28  2760.6
2014-08-27  2593.7
2014-08-26  2884.4
2014-08-25  2591.3
2014-08-24  3022.6
2014-08-23  3052.1
2014-08-22  2789.2
2014-08-21  2909.8
2014-08-20  2326.8
2014-08-19  2453.1
2014-08-18  2351.2
2014-08-17  3279.1
2014-08-16  3381.9
2014-08-15  2988.1
2014-08-14  2577.7
2014-08-13  2332.3
2014-08-12  2518.6
2014-08-11  2697.5
2014-08-10  3244.7
2014-08-09  3346.7
2014-08-08  2900.6
2014-08-07  2759.1
2014-08-06  2915.8
2014-08-05  2618.1
2014-08-04  2993.0
2014-08-03  3436.4
2014-08-02  2261.7

[201 rows x 1 columns]

<class 'matplotlib.axes._subplots.AxesSubplot'>
Axes(0.125,0.1;0.775x0.8)
'''
print(type(cs_data)) #输出cs_data的类型
'''
<class 'pandas.core.frame.DataFrame'>
'''

plt.figure()
p = cs_data.boxplot() #绘制箱形图，结果存储在outlier_detection.png
plt.show()
